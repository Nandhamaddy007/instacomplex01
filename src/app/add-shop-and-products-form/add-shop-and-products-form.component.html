<div>
  <div *ngIf="formLoaded" class="container">
    <span class="text-danger" *ngIf="">Error</span>
    <form [formGroup]="ClientForm" class="m-3">

      <div class="row jumbotron ">
        <h3>Create your own Shop in 2min for Free!!!</h3>
        <div class="col-sm-3 p-1">
          <input formControlName="shopName" class="form-control form-control-sm" type="text" placeholder="Shop Name">
        </div>
        <div class="col-sm-3 p-1">
          <input formControlName="shopOwner" class="form-control form-control-sm" type="text" placeholder="Shop Owner Name">
        </div>
        <div class="col-sm-3 p-1">
          <input formControlName="shopOwnerMobile" class="form-control form-control-sm" type="number" placeholder="Mobile No.">
        </div>

        <div class="col-sm-3 p-1">
          <input formControlName="shopOwnerEmail" class="form-control form-control-sm" type="text" placeholder="Email ID">
        </div>

        <div class="col-sm-3 p-1">
          <input formControlName="shopOwnerInstaId" class="form-control form-control-sm" type="text" placeholder="Instagram ID">
        </div>
        <div class="col-sm-3 p-1">
          <input formControlName="shopOwnerGpay" class="form-control form-control-sm" type="text" placeholder="Any UPI Address">
        </div>



        <div class="col-sm-3 p-1">
          <input foromControlName="shopOwnerAddress" rows="3" cols="40" style="resize:none" class="form-control form-control-sm" placeholder="Address" >
        </div>
        <div class="col-sm-3 p-1">
          <label>Shop LOGO</label>:
          <input #Logo
      (change)="addLogo($event)"
      class="outline"
      name="uploadfile"
      type="file"
      accept=".png,.jpg"
    />

          <button
      class="btn btn-sm btn-outline-danger"
      *ngIf="dummyLogo['src']"
      (click)="deleteLogo()"
    >
      Delete
    </button>
          <img
      *ngIf="dummyLogo['src']"
      [src]="dummyLogo['src']"
      alt="shop logo displayed here"
      width="200" height="300"
    />
        </div>
      </div>
      <div id="product " class="row" formArrayName="ProductDetails" class="container"
        *ngFor="let Product of ClientForm.get('ProductDetails')['controls']; let i=index;">
        <h6>Product: {{i+1}}</h6>
        <div [formGroupName]="i">
          <div class="formGroup col-sm-6">

            <input formControlName="productName" class="form-control form-control-sm" type="text" placeholder="Product Name">
          </div>

          <div class="formGroup col-sm-5">
            <input
        type="file"
        class="form-control"
        (change)="addProductImage($event,i)"
        type="file"
        accept=".png,.jpg"
      />
            <img
        *ngIf="ClientForm.get('ProductDetails')
    ['controls'][i].get('productSrc').value"
        [src]="ClientForm.get('ProductDetails')
    ['controls'][i].get('productSrc').value"
        alt="Product image displayed here"
        width="150" height="500"
      />
            <button class="btn btn-outline-danger"  *ngIf="ClientForm.get('ProductDetails')
    ['controls'][i].get('productSrc').value" (click)="deleteProductImage(i)">Delete image</button>
            <button *ngIf="i>0" style="margin-top:0.5rem" class='btn btn-danger' (click)="RemoveProduct(i)">
           Remove
          </button>
          </div>
          <div class="formGroup col-sm-6 mt-1">
            <input formControlName="productColor" class="form-control form-control-sm" type="text" placeholder="Product Color">
          </div>
          <div class="btn btn-outline-primary btn-sm" style="margin-top:0.5rem" (click)="addProductVariance(i)">Add
            Variance +</div>
          <div formArrayName="ProductVariance"
            *ngFor="let Variance of Product.get('ProductVariance')['controls']; let j=index;">
            <div [formGroupName]="j">
              <div class="btn btn-danger" *ngIf='j>0' style="margin-top:0.5rem" (click)="RemoveVariance(i,j)">Remove
                Variance</div>
              <div class="formGroup col-sm-6 pt-1">
                <input formControlName="productPrice" class="form-control form-control-sm" type="text" placeholder="Price">
              </div>
              <div class="formGroup col-sm-6 pt-1">
                <input formControlName="productAvailability" class="form-control form-control-sm" type="text" placeholder="Available">
              </div>
              <div class="formGroup col-sm-6 pt-1">
                <input formControlName="productSize" class="form-control form-control-sm" type="text" placeholder="Size">
              </div>
            </div>
          </div>


        </div>
      </div>

      <div class="btn btn-success btn-sm m-3" (click)="addProduct()">Add an Item +</div>
    </form>
    <button class="btn btn-success btn-sm m-1" *ngIf="!shopOwnerInstaId" [disabled]="!ClientForm.valid" (click)="CreateShop()">Submit</button>
    <div class="btn btn-primary btn-sm p-1" *ngIf="shopOwnerInstaId" (click)="updateShop()">Submit</div>
  </div>



</div>